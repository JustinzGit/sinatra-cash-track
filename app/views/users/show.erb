<style media="screen">
* {
  /* browser accounts for border/padding when elements width / height is specified */
  box-sizing: border-box;
}

/* Create three equal columns that floats next to each other */
.column {
  float: left;
  width: 50%;
  min-width: 400px;
  padding: 15px;
  /* background-color: #C0C0C0; */
}



.month {
  width: 100%;
  background: #00b3e6;
  text-align: center;
}

.month ul {
margin: 0;
padding: 0;
}

.month ul li {
color: white;
font-size: 30px;
text-transform: uppercase;
letter-spacing: 3px;
}

.weekdays {
margin: 0;
padding: 10px 0;
background-color: #ddd;
}

.weekdays li {
display: inline-block;
width: 13.6%;
color: #666;
text-align: center;
font-size: 20px;
}

.days {
padding: 10px 0;
background: #eee;
margin: 0;
}

.days li {
list-style-type: none;
display: inline-block;
width: 13.6%;
text-align: center;
margin-bottom: 5px;
font-size: 20px;
color: #777;
}

.days li .active {
padding: 5px;
background: #1abc9c;
color: white !important
}

</style>


<h1 style="text-align: center;"><%= @user.username %>'s Dashboard</h1>

<div class="column">
  <h2 style="text-align: center;">Bills</h2>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">Provider</th>
        <th scope="col">Balance</th>
        <th scope="col">Due On</th>
      </tr>
    </thead>
    <tbody>
      <% @user.bills.each do |bill| %>
      <tr>
        <td><%= bill.provider %></td>
        <td><%= bill.balance %></td>
        <td style="color: <%= bill.color %>"><%= bill.duedate %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <h2 style="text-align: center">Banking</h2>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">Bank</th>
        <th scope="col">Checking</th>
        <th scope="col">Savings</th>
      </tr>
    </thead>
    <tbody>
      <% @user.banks.each do |bank| %>
      <tr>
        <td><a href="<%= bank.url %>"><%= bank.name %></a></td>
        <td><%= bank.checking_balance %></td>
        <td><%= bank.savings_balance %></td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <h2 style="text-align: center">Credit Cards</h2>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">Card</th>
        <th scope="col">Balance</th>
        <th scope="col">Credit</th>
        <th scope="col">Payment Due</th>
      </tr>
    </thead>
    <tbody>
      <% @user.creditcards.each do |creditcard| %>
      <tr>
        <td><%= creditcard.name %></td>
        <td><%= creditcard.balance %></td>
        <td><%= creditcard.credit %></td>
        <td><%= creditcard.duedate %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>


<div class="column">
  <div class="month">
    <ul>
      <li><%= Date.today.strftime("%B") %><br><span style="font-size:18px"><%= Date.today.strftime("%Y") %></span></li>
    </ul>
  </div>

  <ul class="weekdays">
    <li>Mo</li>
    <li>Tu</li>
    <li>We</li>
    <li>Th</li>
    <li>Fr</li>
    <li>Sa</li>
    <li>Su</li>
  </ul>

  <ul class="days">
  <% Calendar.days_in_month(1).times.with_index do |i| %>
    <% if Calendar.todays_date?(i + 1) || Calendar.bill_day?(i + 1)   %>
      <li><span class="active" style="background: <%= Calendar.bill_day?(i + 1) %>"><%= i + 1 %></span></li>
    <% else %>
      <li><%= i + 1 %></li>
    <% end %>
  <% end %>
  </ul>
</div>
